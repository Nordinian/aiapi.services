{"version":3,"sources":["../src/util/spec/preprocess.ts"],"names":[],"mappings":";;;AAAA,6CAAiD;AAEjD,wDAA2E;AAG3E,MAAM,WAAW,GAAG,CAAC,oBAAoB,EAAE,aAAa,EAAE,YAAY,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;AAE3F,SAAgB,eAAe,CAAC,GAAQ,EAAE,WAA+B,EAAE,UAAwB;IACjG,IAAI,CAAC,GAAG,EAAE;QACR,OAAO,GAAG,CAAC;KACZ;IAED,MAAM,MAAM,GAAG,EAAE,CAAC;IAClB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;QAC7B,MAAM,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;QACvB,IAAI,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;YAC7B,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;SACrB;aAAM,IAAI,IAAA,sBAAa,EAAC,KAAK,CAAC,EAAE;YAC/B,IAAI,IAAA,iBAAU,EAAC,KAAK,CAAC,EAAE;gBAErB,MAAM,CAAC,GAAG,CAAC,GAAG,IAAA,qBAAc,EAAC,KAAK,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC;aAC9D;iBAAM;gBACL,MAAM,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,KAAK,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC;aAC/D;SACF;aAAM;YACL,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;SACrB;IACH,CAAC,CAAC,CAAC;IAEH,OAAO,MAAM,CAAC;AAChB,CAAC;AAvBD,0CAuBC","file":"preprocess.js","sourcesContent":["import { isPlainObject } from '@visactor/vutils';\nimport type { IThemeColorScheme } from '../../theme/color-scheme/interface';\nimport { getActualColor, isColorKey } from '../../theme/color-scheme/util';\nimport type { ISeriesSpec } from '../../typings';\n\nconst IGNORE_KEYS = ['animationThreshold', 'colorScheme', 'fontFamily', 'name', 'padding'];\n\nexport function preprocessTheme(obj: any, colorScheme?: IThemeColorScheme, seriesSpec?: ISeriesSpec): any {\n  if (!obj) {\n    return obj;\n  }\n\n  const newObj = {};\n  Object.keys(obj).forEach(key => {\n    const value = obj[key];\n    if (IGNORE_KEYS.includes(key)) {\n      newObj[key] = value;\n    } else if (isPlainObject(value)) {\n      if (isColorKey(value)) {\n        // 查询、替换语义化颜色\n        newObj[key] = getActualColor(value, colorScheme, seriesSpec);\n      } else {\n        newObj[key] = preprocessTheme(value, colorScheme, seriesSpec);\n      }\n    } else {\n      newObj[key] = value;\n    }\n  });\n\n  return newObj;\n}\n"]}
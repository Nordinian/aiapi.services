"use strict";

Object.defineProperty(exports, "__esModule", {
    value: !0
}), exports.CommonChartSpecTransformer = void 0;

const util_1 = require("../../util"), base_1 = require("../base"), util_2 = require("../util");

class CommonChartSpecTransformer extends base_1.BaseChartSpecTransformer {
    _getDefaultSeriesSpec(spec) {
        const defaultSpec = super._getDefaultSeriesSpec(spec);
        return delete defaultSpec.data, defaultSpec;
    }
    transformSpec(spec) {
        if (super.transformSpec(spec), spec.series && spec.series.length) {
            const defaultSeriesSpec = this._getDefaultSeriesSpec(spec);
            spec.series.forEach((s => {
                this._isValidSeries(s.type) && Object.keys(defaultSeriesSpec).forEach((k => {
                    k in s || (s[k] = defaultSeriesSpec[k]);
                }));
            }));
        }
        spec.axes && spec.axes.length && spec.axes.forEach((axis => {
            (0, util_1.get)(axis, "trimPadding") && (0, util_1.mergeSpec)(axis, (0, util_2.getTrimPaddingConfig)(this.type, spec));
        }));
    }
}

exports.CommonChartSpecTransformer = CommonChartSpecTransformer;
//# sourceMappingURL=common-transformer.js.map

{"version":3,"sources":["../src/component/data-zoom/data-zoom/data-zoom.ts"],"names":[],"mappings":"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","file":"data-zoom.js","sourcesContent":["import type { Maybe } from '@visactor/vutils';\n// eslint-disable-next-line no-duplicate-imports\nimport { isArray, isBoolean, isNil, isNumber, isValid, maxInArray, minInArray, uniqArray } from '@visactor/vutils';\nimport { mergeSpec } from '../../../util/spec/merge-spec';\nimport type { IComponentOption } from '../../interface';\n// eslint-disable-next-line no-duplicate-imports\nimport { ComponentTypeEnum } from '../../interface/type';\nimport { DataFilterBaseComponent } from '../data-filter-base-component';\n// eslint-disable-next-line no-duplicate-imports\nimport type { DataZoomAttributes } from '@visactor/vrender-components';\n// eslint-disable-next-line no-duplicate-imports\nimport { DataZoom as DataZoomComponent } from '@visactor/vrender-components';\nimport { transformToGraphic } from '../../../util/style';\nimport type { IRectGraphicAttribute, INode, ISymbolGraphicAttribute, IGroup, IGraphic } from '@visactor/vrender-core';\nimport type { Datum, ILayoutType } from '../../../typings';\nimport type { ILinearScale, IBaseScale } from '@visactor/vscale';\n// eslint-disable-next-line no-duplicate-imports\nimport { LinearScale, isContinuous, isDiscrete } from '@visactor/vscale';\nimport { ChartEvent, LayoutLevel, LayoutZIndex } from '../../../constant';\nimport type { IDataZoomSpec } from './interface';\nimport { IFilterMode } from '../constant';\nimport { Factory } from '../../../core/factory';\nimport type { IZoomable } from '../../../interaction/zoom';\nimport type { CartesianAxis } from '../../axis/cartesian';\nimport type { IModelSpecInfo } from '../../../model/interface';\nimport { DataZoomSpecTransformer } from './data-zoom-transformer';\n\nexport class DataZoom<T extends IDataZoomSpec = IDataZoomSpec> extends DataFilterBaseComponent<T> {\n  static type = ComponentTypeEnum.dataZoom;\n  static readonly transformerConstructor = DataZoomSpecTransformer as any;\n  type = ComponentTypeEnum.dataZoom;\n  name: string = ComponentTypeEnum.dataZoom;\n  readonly transformerConstructor = DataZoomSpecTransformer;\n\n  static specKey = 'dataZoom';\n  specKey = 'dataZoom';\n\n  layoutZIndex: number = LayoutZIndex.DataZoom;\n  layoutLevel: number = LayoutLevel.DataZoom;\n  layoutType: ILayoutType = 'region-relative';\n\n  // datazoom组件\n  protected _component!: DataZoomComponent;\n\n  protected _valueScale!: ILinearScale;\n\n  protected _backgroundSize!: number;\n  protected _middleHandlerSize!: number;\n  protected _startHandlerSize!: number;\n  protected _endHandlerSize!: number;\n\n  static getSpecInfo(chartSpec: any): Maybe<IModelSpecInfo[]> {\n    const compSpec = chartSpec[this.specKey];\n    if (isNil(compSpec)) {\n      return undefined;\n    }\n    if (!isArray(compSpec)) {\n      return [\n        {\n          spec: compSpec,\n          specPath: [this.specKey],\n          type: ComponentTypeEnum.dataZoom\n        }\n      ];\n    }\n    const specInfos: IModelSpecInfo[] = [];\n    compSpec.forEach((s, i: number) => {\n      specInfos.push({\n        spec: s,\n        specIndex: i,\n        specPath: [this.specKey, i],\n        type: ComponentTypeEnum.dataZoom\n      });\n    });\n    return specInfos;\n  }\n\n  constructor(spec: T, options: IComponentOption) {\n    super(spec, options);\n\n    this._valueField = 'y';\n    this._filterMode = spec.filterMode ?? IFilterMode.filter;\n  }\n\n  created() {\n    super.created();\n    this._initValueScale();\n  }\n\n  setAttrFromSpec() {\n    super.setAttrFromSpec();\n\n    if (isBoolean((this._spec as any).roam)) {\n      this._zoomAttr.enable = (this._spec as any).roam;\n      this._dragAttr.enable = (this._spec as any).roam;\n      this._scrollAttr.enable = (this._spec as any).roam;\n    }\n\n    if (this._zoomAttr.enable || this._dragAttr.enable || this._scrollAttr.enable) {\n      (this as unknown as IZoomable).initZoomable(this.event, this._option.mode);\n    }\n\n    // size相关\n    this._backgroundSize = this._spec.background?.size ?? 30;\n    this._middleHandlerSize = this._computeMiddleHandlerSize();\n    this._width = this._computeWidth();\n    this._height = this._computeHeight();\n    // startHandler和endHandler size如果没有配置，则默认跟随background宽 or 高\n    if (isNil(this._spec?.startHandler?.style?.size)) {\n      this._spec.startHandler.style.size = this._isHorizontal\n        ? this._height - this._middleHandlerSize\n        : this._width - this._middleHandlerSize;\n    }\n    if (isNil(this._spec?.endHandler?.style?.size)) {\n      this._spec.endHandler.style.size = this._isHorizontal\n        ? this._height - this._middleHandlerSize\n        : this._width - this._middleHandlerSize;\n    }\n    const startHandlerVisble = this._spec.startHandler.style.visible ?? true;\n    const endHandlerVisble = this._spec.endHandler.style.visible ?? true;\n    this._startHandlerSize = startHandlerVisble ? this._spec.startHandler.style.size : 0;\n    this._endHandlerSize = endHandlerVisble ? this._spec.endHandler.style.size : 0;\n  }\n\n  /** LifeCycle API**/\n  onLayoutEnd(ctx: any): void {\n    this._updateScaleRange();\n    if (this._cacheVisibility !== false) {\n      super.onLayoutEnd(ctx);\n    }\n  }\n\n  protected _initValueScale() {\n    const domain = this._computeDomainOfValueScale();\n\n    if (domain) {\n      const valueScale = new LinearScale();\n      valueScale.domain(domain);\n      this._valueScale = valueScale;\n    }\n  }\n\n  protected _updateScaleRange() {\n    const handlerSize = (this._startHandlerSize + this._endHandlerSize) / 2;\n    if (!this._stateScale || !this._valueScale) {\n      return;\n    }\n\n    // visible为false时, 计算stateScale的兜底range\n    let stateScaleRange;\n    const defaultSize = this._isHorizontal\n      ? this.getLayoutRect().width - handlerSize\n      : this.getLayoutRect().height - handlerSize;\n    const defaultRange = (this._relatedAxisComponent as CartesianAxis<any>)?.getScale().range() ?? [0, defaultSize];\n\n    if (this._isHorizontal) {\n      stateScaleRange = this._visible ? [0, this._computeWidth() - handlerSize] : defaultRange;\n      this._stateScale.range(stateScaleRange);\n      this._valueScale.range([this._computeHeight() - this._middleHandlerSize, 0]);\n    } else if (this.layoutOrient === 'left') {\n      stateScaleRange = this._visible ? [0, this._computeHeight() - handlerSize] : defaultRange;\n      this._stateScale.range(stateScaleRange);\n      this._valueScale.range([this._computeWidth() - this._middleHandlerSize, 0]);\n    } else {\n      stateScaleRange = this._visible ? [0, this._computeHeight() - handlerSize] : defaultRange;\n      this._stateScale.range(stateScaleRange);\n      this._valueScale.range([0, this._computeWidth() - this._middleHandlerSize]);\n    }\n\n    if (this._component && this._cacheVisibility !== false) {\n      this._component.setAttributes({\n        size: {\n          width: this._computeWidth(),\n          height: this._computeHeight()\n        },\n        position: {\n          x: this.getLayoutStartPoint().x,\n          y: this.getLayoutStartPoint().y\n        }\n      });\n    }\n  }\n\n  protected _computeDomainOfValueScale() {\n    const domain = this._data.getLatestData().map((d: any) => d[this._valueField]);\n\n    const domainNum = domain.map((n: any) => n * 1);\n    return domain.length ? [minInArray(domainNum), maxInArray(domainNum)] : null;\n  }\n\n  protected _computeMiddleHandlerSize(): number {\n    let size = 0;\n    if (this._spec?.middleHandler?.visible) {\n      const middleHandlerIconSize = this._spec.middleHandler.icon.style.size ?? 8;\n      const middleHandlerBackSize = this._spec.middleHandler.background.size ?? 40;\n      size += Math.max(middleHandlerIconSize as number, middleHandlerBackSize);\n    }\n    return size;\n  }\n\n  protected _computeWidth(): number {\n    if (this._visible === false) {\n      return 0;\n    }\n\n    if (isNumber(this._spec.width)) {\n      return this._spec.width;\n    }\n\n    if (this._isHorizontal) {\n      return this.getLayoutRect().width;\n    }\n\n    return this._backgroundSize + this._middleHandlerSize;\n  }\n\n  protected _computeHeight(): number {\n    if (this._visible === false) {\n      return 0;\n    }\n\n    if (isNumber(this._spec.height)) {\n      return this._spec.height;\n    }\n\n    if (this._isHorizontal) {\n      return this._backgroundSize + this._middleHandlerSize;\n    }\n    return this.getLayoutRect().height - (this._startHandlerSize + this._endHandlerSize) / 2;\n  }\n\n  protected _isScaleValid(scale: IBaseScale | ILinearScale) {\n    if (!scale || !scale.domain()) {\n      return false;\n    }\n    const domain = scale.domain();\n    if (isContinuous(scale.type) && domain[0] === domain[1]) {\n      return false;\n    }\n    if (isDiscrete(scale.type) && uniqArray(domain).length === 1) {\n      return false;\n    }\n    return true;\n  }\n\n  protected _dataToPositionX = (datum: Datum): number => {\n    const offsetLeft = this._orient === 'left' ? this._middleHandlerSize : 0;\n    const offsetHandler = this._isHorizontal ? this._startHandlerSize / 2 : 0;\n    const xScale = this._isHorizontal ? this._stateScale : this._valueScale;\n    const xField = this._isHorizontal ? this._stateField : this._valueField;\n    return xScale.scale(datum[xField]) + this.getLayoutStartPoint().x + offsetLeft + offsetHandler;\n  };\n\n  protected _dataToPositionX2 = (datum: Datum): number => {\n    const offsetLeft = this._orient === 'left' ? this._middleHandlerSize : 0;\n    const offsetHandler = this._isHorizontal ? this._startHandlerSize / 2 : 0;\n    const xScale = this._isHorizontal ? this._stateScale : this._valueScale;\n    const min = xScale.domain()[0];\n    return xScale.scale(min) + this.getLayoutStartPoint().x + offsetLeft + offsetHandler;\n  };\n\n  protected _dataToPositionY = (datum: Datum): number => {\n    const offsetTop = this._isHorizontal ? this._middleHandlerSize : 0;\n    const offsetHandler = this._isHorizontal ? 0 : this._startHandlerSize / 2;\n    const yScale = this._isHorizontal ? this._valueScale : this._stateScale;\n    const yField = this._isHorizontal ? this._valueField : this._stateField;\n    return yScale.scale(datum[yField]) + this.getLayoutStartPoint().y + offsetTop + offsetHandler;\n  };\n\n  protected _dataToPositionY2 = (datum: Datum): number => {\n    const offsetTop = this._isHorizontal ? this._middleHandlerSize : 0;\n    const offsetHandler = this._isHorizontal ? 0 : this._startHandlerSize / 2;\n    const yScale = this._isHorizontal ? this._valueScale : this._stateScale;\n    const min = yScale.domain()[0];\n    return yScale.scale(min) + this.getLayoutStartPoint().y + offsetTop + offsetHandler;\n  };\n\n  private _getAttrs(isNeedPreview: boolean) {\n    const spec = this._spec ?? ({} as T);\n    return {\n      zIndex: this.layoutZIndex,\n      start: this._start,\n      end: this._end,\n      position: {\n        x: this.getLayoutStartPoint().x,\n        y: this.getLayoutStartPoint().y\n      },\n      orient: this._orient,\n      size: {\n        width: this.getLayoutRect().width,\n        height: this.getLayoutRect().height\n      },\n      showDetail: spec.showDetail,\n      brushSelect: spec.brushSelect ?? false,\n      zoomLock: spec.zoomLock ?? false,\n      minSpan: this._minSpan,\n      maxSpan: this._maxSpan,\n      delayType: spec.delayType,\n      delayTime: isValid(spec.delayType) ? spec.delayTime ?? 30 : 0,\n      realTime: spec.realTime ?? true,\n      previewData: isNeedPreview && this._data.getLatestData(),\n      previewPointsX: isNeedPreview && this._dataToPositionX,\n      previewPointsY: isNeedPreview && this._dataToPositionY,\n      ...(this._getComponentAttrs() as any)\n    } as DataZoomAttributes;\n  }\n\n  protected _createOrUpdateComponent() {\n    if (this._visible) {\n      const xScale = this._isHorizontal ? this._stateScale : this._valueScale;\n      const yScale = this._isHorizontal ? this._valueScale : this._stateScale;\n      const isNeedPreview = this._isScaleValid(xScale) && this._isScaleValid(yScale);\n      const attrs = this._getAttrs(isNeedPreview);\n      if (this._component) {\n        this._component.setAttributes(attrs);\n      } else {\n        const container = this.getContainer();\n        this._component = new DataZoomComponent(attrs);\n\n        if (this._isHorizontal) {\n          isNeedPreview && this._component.setPreviewPointsY1(this._dataToPositionY2);\n        } else {\n          isNeedPreview && this._component.setPreviewPointsX1(this._dataToPositionX2);\n        }\n        this._component.setStatePointToData((state: number) => this._statePointToData(state));\n\n        this._component.addEventListener('change', (e: any) => {\n          const { start, end, tag } = e.detail;\n          this._handleChange(start, end, undefined, tag);\n        });\n        container.add(this._component as unknown as INode);\n\n        this._updateScaleRange();\n      }\n    }\n  }\n\n  protected _handleChange(start: number, end: number, updateComponent?: boolean, tag?: string) {\n    super._handleChange(start, end, updateComponent);\n    if (updateComponent && this._component) {\n      this._component.setStartAndEnd(start, end);\n    }\n\n    this._start = start;\n    this._end = end;\n    const hasChange = this._handleStateChange(this._statePointToData(start), this._statePointToData(end), tag);\n    if (hasChange) {\n      this.event.emit(ChartEvent.dataZoomChange, {\n        model: this,\n        value: {\n          filterData: this._filterMode !== IFilterMode.axis,\n          start,\n          end,\n          startValue: this._startValue,\n          endValue: this._endValue,\n          newDomain: this._newDomain\n        }\n      });\n    }\n  }\n\n  protected _handleDataCollectionChange() {\n    const data = this._data.getDataView();\n    data.reRunAllTransform();\n    this._component?.setPreviewData(data.latestData);\n\n    if (this._valueScale) {\n      const domain = this._computeDomainOfValueScale();\n\n      if (domain) {\n        this._valueScale.domain(domain);\n      }\n    }\n  }\n\n  protected _getComponentAttrs() {\n    const {\n      middleHandler = {},\n      startText = {},\n      endText = {},\n      backgroundChart = {},\n      selectedBackgroundChart = {}\n    } = this._spec as T;\n    return {\n      backgroundStyle: transformToGraphic(this._spec.background?.style) as unknown as IRectGraphicAttribute,\n      startHandlerStyle: transformToGraphic(this._spec.startHandler?.style) as unknown as ISymbolGraphicAttribute,\n      middleHandlerStyle: middleHandler.visible\n        ? {\n            visible: true,\n            icon: transformToGraphic(middleHandler.icon?.style) as unknown as ISymbolGraphicAttribute,\n            background: {\n              size: middleHandler.background?.size,\n              style: transformToGraphic(middleHandler.background?.style)\n            } as any\n          }\n        : { visible: false },\n      endHandlerStyle: transformToGraphic(this._spec.endHandler?.style) as unknown as ISymbolGraphicAttribute,\n      startTextStyle: {\n        padding: startText.padding,\n        formatMethod: startText.formatMethod,\n        textStyle: transformToGraphic(startText.style)\n      } as unknown,\n      endTextStyle: {\n        padding: endText.padding,\n        formatMethod: endText.formatMethod,\n        textStyle: transformToGraphic(endText.style)\n      } as unknown,\n      selectedBackgroundStyle: transformToGraphic(\n        this._spec.selectedBackground.style\n      ) as unknown as IRectGraphicAttribute,\n      dragMaskStyle: transformToGraphic(this._spec.dragMask?.style) as unknown as IRectGraphicAttribute,\n      backgroundChartStyle: {\n        line: mergeSpec(transformToGraphic(backgroundChart.line?.style), { fill: false }),\n        area: {\n          curveType: 'basis',\n          visible: true,\n          ...transformToGraphic(backgroundChart.area?.style)\n        }\n      },\n      selectedBackgroundChartStyle: {\n        line: mergeSpec(transformToGraphic(selectedBackgroundChart.line?.style), { fill: false }),\n        area: {\n          curveType: 'basis',\n          visible: true,\n          ...transformToGraphic(selectedBackgroundChart.area?.style)\n        }\n      },\n      disableTriggerEvent: this._option.disableTriggerEvent\n    };\n  }\n\n  protected _getNeedClearVRenderComponents(): IGraphic[] {\n    return [this._component] as unknown as IGroup[];\n  }\n}\n\nexport const registerDataZoom = () => {\n  Factory.registerComponent(DataZoom.type, DataZoom);\n};\n"]}
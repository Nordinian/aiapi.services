{"version":3,"sources":["../src/component/common/trigger/mobile.ts"],"names":[],"mappings":";;;AACA,MAAa,aAAa;IAA1B;QACU,eAAU,GAAG,CAAC,CAAC;IA4CzB,CAAC;IAzCC,SAAS;QACP,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IACxB,CAAC;IAED,eAAe,CAAC,KAAU;QACxB,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,OAAO,IAAI,CAAC,SAAS,KAAK,KAAK,CAAC,SAAS,CAAC;SAC3C;QACD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC;QACjC,OAAO,IAAI,CAAC;IACd,CAAC;IAED,eAAe,CAAC,KAAU;QACxB,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;QAC1B,IAAI,IAAI,CAAC,UAAU,KAAK,CAAC,EAAE;YACzB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,OAAO,KAAK,CAAC;SACd;QACD,KAAK,CAAC,SAAS,GAAG,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC;QAE1C,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;QAC5B,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC;QACvB,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QAExB,OAAO,KAAK,CAAC;IACf,CAAC;IAED,iBAAiB,CAAC,KAAU;QAE1B,OAAO,KAAK,CAAC;IACf,CAAC;IAED,WAAW;IAEX,CAAC;IAED,SAAS;IAET,CAAC;CACF;AA7CD,sCA6CC","file":"mobile.js","sourcesContent":["import type { IZoomTrigger } from './interface';\nexport class MobileTrigger implements IZoomTrigger {\n  private _lastScale = 0;\n  pointerId: number;\n\n  clearZoom(): void {\n    this._lastScale = 0;\n    this.pointerId = null;\n  }\n\n  parserDragEvent(event: any): boolean {\n    if (this.pointerId) {\n      return this.pointerId === event.pointerId;\n    }\n    this.pointerId = event.pointerId;\n    return true;\n  }\n\n  parserZoomEvent(event: any) {\n    const scale = event.scale;\n    if (this._lastScale === 0) {\n      this._lastScale = scale;\n      return event;\n    }\n    event.zoomDelta = scale / this._lastScale;\n\n    const center = event.center;\n    event.zoomX = center.x;\n    event.zoomY = center.y;\n    this._lastScale = scale;\n\n    return event;\n  }\n\n  parserScrollEvent(event: any) {\n    // todo\n    return event;\n  }\n\n  clearScroll(): void {\n    // do nothing\n  }\n\n  clearDrag(): void {\n    // do nothing\n  }\n}\n"]}
import { get, mergeSpec } from "../../util";

import { BaseChartSpecTransformer } from "../base";

import { getTrimPaddingConfig } from "../util";

export class CommonChartSpecTransformer extends BaseChartSpecTransformer {
    _getDefaultSeriesSpec(spec) {
        const defaultSpec = super._getDefaultSeriesSpec(spec);
        return delete defaultSpec.data, defaultSpec;
    }
    transformSpec(spec) {
        if (super.transformSpec(spec), spec.series && spec.series.length) {
            const defaultSeriesSpec = this._getDefaultSeriesSpec(spec);
            spec.series.forEach((s => {
                this._isValidSeries(s.type) && Object.keys(defaultSeriesSpec).forEach((k => {
                    k in s || (s[k] = defaultSeriesSpec[k]);
                }));
            }));
        }
        spec.axes && spec.axes.length && spec.axes.forEach((axis => {
            get(axis, "trimPadding") && mergeSpec(axis, getTrimPaddingConfig(this.type, spec));
        }));
    }
}
//# sourceMappingURL=common-transformer.js.map

{"version":3,"sources":["../src/series/pie/interface.ts"],"names":[],"mappings":"","file":"interface.js","sourcesContent":["import type { IAnimationSpec } from '../../animation/spec';\nimport type { IMarkSpec, IMarkTheme } from '../../typings/spec/common';\nimport type { IArcMarkSpec, ITextMarkSpec, IArc3dMarkSpec, ILineMarkSpec } from '../../typings/visual';\nimport type { SeriesMarkNameEnum } from '../interface/type';\nimport type { IPolarSeriesSpec, IPolarSeriesTheme } from '../polar/interface';\nimport type { PieAppearPreset } from './animation/animation';\nimport type { ILabelSpec } from '../../component/label';\n\nexport type PieMarks = 'pie' | 'label' | 'labelLine';\n\nexport type IBasePieSeriesSpec = Omit<IPieSeriesSpec, 'type'> & { type: string };\n\nexport interface IPieSeriesSpec extends IPolarSeriesSpec, IAnimationSpec<PieMarks, PieAppearPreset> {\n  type: 'pie';\n  /**\n   * 分类字段\n   * @description 饼图每个扇区为独立的系列\n   */\n  categoryField: string;\n  /** 数值字段 */\n  valueField: string;\n  /** 饼图中心点 x 坐标 */\n  centerX?: number;\n  /** 饼图中心点 y 坐标 */\n  centerY?: number;\n  /** 饼图扇区中心偏移 */\n  centerOffset?: number;\n\n  /**\n   * 饼图扇区半径\n   * @default 0.6\n   * @deprecated use outerRadius instead\n   */\n  radius?: number;\n\n  /**\n   * 饼图扇区外半径\n   * @default 0.6\n   */\n  outerRadius?: number;\n\n  /**\n   * 饼图扇区内半径\n   * @default 0\n   */\n  innerRadius?: number;\n\n  /**\n   * 饼图扇区圆角半径\n   * @default 0\n   */\n  cornerRadius?: number;\n  /**\n   * 饼图的起始角度（0 ~ 360）\n   * @default -90\n   */\n  startAngle?: number;\n  /**\n   * 饼图的结束角度（0 ~ 360）\n   * @default 270\n   */\n  endAngle?: number;\n  /**\n   * 扇区之间的间隔角度\n   */\n  padAngle?: number;\n\n  /**\n   * 最小的扇区角度（0 ~ 360），用于防止某个值过小导致扇区太小影响交互。\n   * @default 0\n   * @since 1.4.0\n   */\n  minAngle?: number;\n\n  /** 扇区样式 */\n  [SeriesMarkNameEnum.pie]?: IMarkSpec<IArcMarkSpec>;\n  /** 标签配置 */\n  [SeriesMarkNameEnum.label]?: IArcLabelSpec;\n}\n\nexport interface IPieSeriesTheme extends IPolarSeriesTheme {\n  [SeriesMarkNameEnum.pie]?: Partial<IMarkTheme<IArcMarkSpec>>;\n  /** 标签配置 */\n  [SeriesMarkNameEnum.label]?: IArcLabelSpec;\n  /**\n   * 内标签配置\n   * @since 1.5.1\n   */\n  innerLabel?: IArcLabelSpec;\n  /**\n   * 外标签配置\n   * @since 1.5.1\n   */\n  outerLabel?: IArcLabelSpec;\n}\n\nexport type IPie3dSeriesSpec = {\n  type: 'pie3d';\n  // 饼图整体绕x轴的旋转角度\n  angle3d?: number;\n} & Omit<IPieSeriesSpec, 'type'>;\n\nexport interface IPie3dSeriesTheme extends IPolarSeriesTheme {\n  [SeriesMarkNameEnum.pie3d]?: Partial<IMarkTheme<IArc3dMarkSpec>>;\n  /** 标签配置 */\n  [SeriesMarkNameEnum.label]?: IArcLabelSpec;\n  /**\n   * 内标签配置\n   * @since 1.5.1\n   */\n  innerLabel?: IArcLabelSpec;\n  /**\n   * 外标签配置\n   * @since 1.5.1\n   */\n  outerLabel?: IArcLabelSpec;\n}\n\nexport interface IArcLabelLineSpec extends IMarkSpec<ILineMarkSpec> {\n  /**\n   * 是否显示引导线\n   * @default true\n   */\n  visible?: boolean;\n  /**\n   * 引导线 line1 部分最小长度\n   * @default 20\n   */\n  line1MinLength?: number;\n  /**\n   * 引导线 line2 部分最小长度\n   * @default 10\n   */\n  line2MinLength?: number;\n  /**\n   * 引导线是否光滑\n   * @default false\n   * @since 1.4.0\n   */\n  smooth?: boolean;\n}\n\nexport type ArcLabelAlignType = 'arc' | 'labelLine' | 'edge';\n\nexport type ArcLabelStrategyType = 'priority' | 'vertical' | 'none';\n\nexport interface IArcLabelLayoutSpec {\n  /**\n   * 标签对齐方式\n   * @default 'arc'\n   */\n  textAlign?: ArcLabelAlignType;\n  /** @deprecate 建议统一使用textAlign，后续将废除 */\n  align?: ArcLabelAlignType;\n  /**\n   * 标签布局策略\n   * @default 'priority'\n   */\n  strategy?: ArcLabelStrategyType;\n  /**\n   * 是否启用切线约束\n   * @default true\n   */\n  tangentConstraint?: boolean;\n}\n\n// export interface ILabelTextMarkSpec extends Omit<ITextMarkSpec, 'align' | 'textAlign'> {\n//   /** text 配置 align 为 auto 时将根据布局逻辑自动处理 align  */\n//   textAlign?: TextAlign | 'auto';\n//   /** @deprecate 建议统一使用textAlign，后续将废除 */\n//   align?: TextAlign | 'auto';\n// }\n\nexport interface IArcLabelSpec extends ILabelSpec {\n  /**\n   * 标签布局方式\n   * @default 'outside'\n   */\n  position?: 'outside' | 'inside';\n  /**\n   * 标签内容显示规则\n   * @default 'all'\n   */\n  showRule?: 'all' | 'max' | 'min' | 'minAndMax' | 'headAndTail';\n  /**\n   * 是否允许标签重叠\n   * @default false\n   */\n  coverEnable?: boolean;\n  /**\n   * 是否允许标签旋转\n   * @default true\n   */\n  rotate?: boolean;\n\n  /**\n   * 文字与引导线间隔宽度\n   * @default 5\n   */\n  spaceWidth?: number;\n  /**\n   * 扇区间标签的间隔\n   * @default 6\n   */\n  layoutArcGap?: number;\n\n  /** 标签文字样式 */\n  style?: ITextMarkSpec;\n  /** 标签引导线样式 */\n  line?: IArcLabelLineSpec;\n  /** 标签布局配置 */\n  layout?: IArcLabelLayoutSpec;\n}\n"]}
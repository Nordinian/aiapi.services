{"version":3,"sources":["../src/title/title.ts"],"names":[],"mappings":"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","file":"title.js","sourcesContent":["/**\n * @description 标题组件\n */\nimport type { IGroup, IText, IRichText, IRichTextCharacter } from '@visactor/vrender-core';\nimport { merge, isValid, normalizePadding, isArray } from '@visactor/vutils';\nimport { AbstractComponent } from '../core/base';\nimport type { TitleAttrs } from './type';\nimport type { ComponentOptions } from '../interface';\nimport { DEFAULT_HTML_TEXT_SPEC } from '../constant';\nimport { loadTitleComponent } from './register';\n\nloadTitleComponent();\nexport class Title extends AbstractComponent<Required<TitleAttrs>> {\n  name = 'title';\n\n  private _mainTitle?: IText | IRichText;\n  private _subTitle?: IText | IRichText;\n\n  static defaultAttributes: Partial<TitleAttrs> = {\n    textStyle: {\n      ellipsis: '...',\n      fill: '#333',\n      fontSize: 20,\n      fontWeight: 'bold',\n      textAlign: 'left',\n      textBaseline: 'top'\n    },\n    subtextStyle: {\n      ellipsis: '...',\n      fill: '#6F6F6F',\n      fontSize: 16,\n      fontWeight: 'normal',\n      textAlign: 'left',\n      textBaseline: 'top'\n    }\n  };\n\n  constructor(attributes: TitleAttrs, options?: ComponentOptions) {\n    super(options?.skipDefault ? attributes : merge({}, Title.defaultAttributes, attributes));\n  }\n\n  protected render() {\n    const {\n      textType,\n      text,\n      subtextType,\n      textStyle = {},\n      subtext,\n      subtextStyle = {},\n      width,\n      height,\n      minWidth,\n      maxWidth,\n      minHeight,\n      maxHeight,\n      align,\n      verticalAlign,\n      padding = 0\n    } = this.attribute as TitleAttrs;\n\n    const parsedPadding = normalizePadding(padding);\n\n    const group = this.createOrUpdateChild(\n      'title-container',\n      { x: parsedPadding[3], y: parsedPadding[0], zIndex: 1 },\n      'group'\n    ) as IGroup;\n\n    if (this.attribute.visible !== false && textStyle.visible !== false) {\n      if (textType === 'rich' || isValid(textStyle.character)) {\n        const attr = {\n          x: textStyle.x ?? 0,\n          y: textStyle.y ?? 0,\n          width: textStyle.width ?? width ?? 0,\n          height: textStyle.height ?? height ?? 0,\n          ellipsis: textStyle.ellipsis ?? true,\n          wordBreak: textStyle.wordBreak ?? 'break-word',\n          maxHeight: textStyle.maxHeight,\n          maxWidth: textStyle.maxWidth,\n          // 兼容旧版富文本配置，如果未设置textType === 'rich'，text内容为string 易报错\n          textConfig: textStyle.character ?? (text as IRichTextCharacter[]),\n          ...textStyle\n        };\n        this._mainTitle = group.createOrUpdateChild('mainTitle', attr, 'richtext') as IRichText;\n      } else if (textType === 'html') {\n        const attr = {\n          html: {\n            dom: text as string,\n            ...DEFAULT_HTML_TEXT_SPEC,\n            ...textStyle\n          },\n          x: textStyle.x ?? 0,\n          y: textStyle.y ?? 0,\n          width: textStyle.width ?? width ?? 0,\n          height: textStyle.height ?? height ?? 0,\n          ellipsis: textStyle.ellipsis ?? true,\n          wordBreak: textStyle.wordBreak ?? 'break-word',\n          maxHeight: textStyle.maxHeight,\n          maxWidth: textStyle.maxWidth,\n          textConfig: [] as any[],\n          ...textStyle\n        };\n        this._mainTitle = group.createOrUpdateChild('mainTitle', attr, 'richtext') as IRichText;\n      } else if (isValid(text)) {\n        this._mainTitle = group.createOrUpdateChild(\n          'mainTitle',\n          {\n            text: isArray(text) ? (text as any) : [text as string],\n            ...textStyle,\n            maxLineWidth: textStyle.maxLineWidth ?? width,\n            heightLimit: textStyle.heightLimit,\n            lineClamp: textStyle.lineClamp,\n            ellipsis: textStyle.ellipsis ?? true,\n            x: 0,\n            y: 0\n          },\n          'wrapText'\n        ) as IText;\n      }\n    }\n\n    const maintextHeight = this._mainTitle ? this._mainTitle.AABBBounds.height() : 0;\n    const maintextWidth = this._mainTitle ? this._mainTitle.AABBBounds.width() : 0;\n\n    if (this.attribute.visible !== false && subtextStyle.visible !== false) {\n      if (subtextType === 'rich' || isValid(subtextStyle.character)) {\n        const attr: any = {\n          x: subtextStyle.x ?? 0,\n          y: subtextStyle.y ?? 0,\n          width: subtextStyle.width ?? width ?? 0,\n          height: subtextStyle.height ?? height ?? 0,\n          ellipsis: subtextStyle.ellipsis ?? true,\n          wordBreak: subtextStyle.wordBreak ?? 'break-word',\n          maxHeight: subtextStyle.maxHeight,\n          maxWidth: subtextStyle.maxWidth,\n          // 兼容旧版富文本配置，如果未设置textType === 'rich'，text内容为string 易报错\n          textConfig: subtextStyle.character ?? (subtext as IRichTextCharacter[]),\n          ...subtextStyle\n        };\n        this._subTitle = group.createOrUpdateChild('subTitle', attr, 'richtext') as IRichText;\n      } else if (subtextType === 'html') {\n        const attr: any = {\n          html: {\n            dom: subtext as string,\n            ...DEFAULT_HTML_TEXT_SPEC,\n            ...subtextStyle\n          },\n          x: subtextStyle.x ?? 0,\n          y: subtextStyle.y ?? 0,\n          width: subtextStyle.width ?? width ?? 0,\n          height: subtextStyle.height ?? height ?? 0,\n          ellipsis: subtextStyle.ellipsis ?? true,\n          wordBreak: subtextStyle.wordBreak ?? 'break-word',\n          maxHeight: subtextStyle.maxHeight,\n          maxWidth: subtextStyle.maxWidth,\n          textConfig: [] as any[],\n          ...subtextStyle\n        };\n        this._subTitle = group.createOrUpdateChild('subTitle', attr, 'richtext') as IRichText;\n      } else if (isValid(subtext)) {\n        this._subTitle = group.createOrUpdateChild(\n          'subTitle',\n          {\n            text: isArray(subtext) ? (subtext as any) : [subtext as string],\n            ...subtextStyle,\n            maxLineWidth: subtextStyle.maxLineWidth ?? width,\n            heightLimit: subtextStyle.heightLimit,\n            lineClamp: subtextStyle.lineClamp,\n            ellipsis: subtextStyle.ellipsis ?? true,\n            x: 0,\n            y: maintextHeight\n          },\n          'wrapText'\n        ) as IText;\n      }\n    }\n\n    const subtextHeight = this._subTitle ? this._subTitle.AABBBounds.height() : 0;\n    const subtextWidth = this._subTitle ? this._subTitle.AABBBounds.width() : 0;\n\n    // 设置宽高\n    let titleWidth = Math.max(maintextWidth, subtextWidth);\n    let titleHeight = maintextHeight + (subtextStyle.height ?? subtextHeight);\n\n    if (isValid(width)) {\n      titleWidth = width;\n      this._mainTitle && this._mainTitle.setAttribute('maxLineWidth', width);\n      this._subTitle && this._subTitle.setAttribute('maxLineWidth', width);\n    }\n\n    if (isValid(height)) {\n      titleHeight = height;\n    }\n\n    if (isValid(minWidth) && titleWidth < minWidth) {\n      titleWidth = minWidth;\n    }\n    if (isValid(maxWidth)) {\n      this._mainTitle && this._mainTitle.setAttribute('maxLineWidth', maxWidth);\n      this._subTitle && this._subTitle.setAttribute('maxLineWidth', maxWidth);\n      this._mainTitle && this._mainTitle.setAttribute('maxWidth', maxWidth);\n      this._subTitle && this._subTitle.setAttribute('maxWidth', maxWidth);\n      if (titleWidth > maxWidth) {\n        titleWidth = maxWidth;\n      }\n    }\n\n    if (isValid(minHeight) && titleHeight < minHeight) {\n      titleHeight = minHeight;\n    }\n    if (isValid(maxHeight)) {\n      this._mainTitle && this._mainTitle.setAttribute('maxHeight', maxHeight);\n      this._subTitle && this._subTitle.setAttribute('maxHeight', maxHeight - maintextHeight);\n      if (titleHeight > maxHeight) {\n        titleHeight = maxHeight;\n      }\n    }\n\n    group.attribute.width = titleWidth;\n    group.attribute.height = titleHeight;\n    group.attribute.boundsPadding = parsedPadding;\n\n    // 设置对齐\n    if (this._mainTitle) {\n      if (isValid(align) || isValid(textStyle.align)) {\n        const mainTitleAlign = textStyle.align ? textStyle.align : align;\n        const mainTitleWidth = textStyle.width ?? maintextWidth;\n        if (mainTitleAlign === 'left') {\n          this._mainTitle.setAttribute('x', 0);\n          this._mainTitle.setAttribute('textAlign', 'left');\n        } else if (mainTitleAlign === 'center') {\n          this._mainTitle.setAttribute('x', mainTitleWidth / 2);\n          this._mainTitle.setAttribute('textAlign', 'center');\n        } else if (mainTitleAlign === 'right') {\n          this._mainTitle.setAttribute('x', mainTitleWidth);\n          this._mainTitle.setAttribute('textAlign', 'right');\n        }\n      }\n\n      if (isValid(verticalAlign) || isValid(textStyle.verticalAlign)) {\n        const mainTitleVerticalAlign = textStyle.verticalAlign ? textStyle.verticalAlign : verticalAlign;\n        const mainTitleHeight = textStyle.height ? textStyle.height : titleHeight;\n        if (mainTitleVerticalAlign === 'top') {\n          this._mainTitle.setAttribute('y', 0);\n          this._mainTitle.setAttribute('textBaseline', 'top');\n        } else if (mainTitleVerticalAlign === 'middle') {\n          this._mainTitle.setAttribute('y', mainTitleHeight / 2);\n          this._mainTitle.setAttribute('textBaseline', 'middle');\n        } else if (mainTitleVerticalAlign === 'bottom') {\n          this._mainTitle.setAttribute('y', mainTitleHeight);\n          this._mainTitle.setAttribute('textBaseline', 'bottom');\n        }\n      }\n    }\n\n    if (this._subTitle) {\n      if (isValid(align) || isValid(subtextStyle.align)) {\n        const subTitleAlign = subtextStyle.align ? subtextStyle.align : align;\n        const subTitleWidth = subtextStyle.width ?? subtextWidth;\n        if (subTitleAlign === 'left') {\n          this._subTitle.setAttribute('x', 0);\n          this._subTitle.setAttribute('textAlign', 'left');\n        } else if (subTitleAlign === 'center') {\n          this._subTitle.setAttribute('x', subTitleWidth / 2);\n          this._subTitle.setAttribute('textAlign', 'center');\n        } else if (subTitleAlign === 'right') {\n          this._subTitle.setAttribute('x', subTitleWidth);\n          this._subTitle.setAttribute('textAlign', 'right');\n        }\n      }\n\n      if (isValid(verticalAlign) || isValid(textStyle.verticalAlign)) {\n        const subTitleVerticalAlign = subtextStyle.verticalAlign ? subtextStyle.verticalAlign : verticalAlign;\n        const subTitleYStart = maintextHeight;\n        const subTitleHeight = subtextStyle.height ?? 0;\n        if (subTitleVerticalAlign === 'top') {\n          this._subTitle.setAttribute('y', subTitleYStart);\n          this._subTitle.setAttribute('textBaseline', 'top');\n        } else if (subTitleVerticalAlign === 'middle') {\n          this._subTitle.setAttribute('y', subTitleYStart + subTitleHeight / 2);\n          this._subTitle.setAttribute('textBaseline', 'middle');\n        } else if (subTitleVerticalAlign === 'bottom') {\n          this._subTitle.setAttribute('y', subTitleYStart + subTitleHeight);\n          this._subTitle.setAttribute('textBaseline', 'bottom');\n        }\n      }\n    }\n  }\n}\n"]}
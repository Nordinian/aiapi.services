{"version":3,"sources":["../src/chart/waterfall/waterfall-transformer.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,kBAAkB,CAAC;AAEzC,OAAO,EAAE,uBAAuB,EAAE,MAAM,QAAQ,CAAC;AACjD,OAAO,EAAE,oCAAoC,EAAE,MAAM,SAAS,CAAC;AAG/D,MAAM,OAAO,6BAEX,SAAQ,uBAAqE;IAC7E,aAAa,CAAC,IAAkD;QAC9D,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC1B,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAM,EAAE,EAAE;gBACrC,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;gBACjB,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;gBAChB,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;YACnB,CAAC,CAAC,CAAC;SACJ;QAED,oCAAoC,CAAC,IAAI,CAAC,CAAC;IAC7C,CAAC;IAES,qBAAqB,CAAC,IAAkD;QAChF,uCACK,KAAK,CAAC,qBAAqB,CAAC,IAAI,CAAC,KACpC,GAAG,EAAE,IAAI,CAAC,GAAG,EACb,UAAU,EAAE,IAAI,CAAC,UAAU,EAC3B,UAAU,EAAE,IAAI,CAAC,UAAU,EAC3B,KAAK,EAAE,IAAI,CAAC,KAAK,IACjB;IACJ,CAAC;CACF","file":"waterfall-transformer.js","sourcesContent":["import { array } from '@visactor/vutils';\nimport type { AdaptiveSpec } from '../../typings';\nimport { BarChartSpecTransformer } from '../bar';\nimport { setDefaultCrosshairForCartesianChart } from '../util';\nimport type { IWaterfallChartSpec } from './interface';\n\nexport class WaterfallChartSpecTransformer<\n  T extends IWaterfallChartSpec = IWaterfallChartSpec\n> extends BarChartSpecTransformer<AdaptiveSpec<T, 'type' | 'series' | 'label'>> {\n  transformSpec(spec: AdaptiveSpec<T, 'type' | 'series' | 'label'>): void {\n    super.transformSpec(spec);\n    if (spec.legends) {\n      array(spec.legends).forEach((l: any) => {\n        l.select = false;\n        l.hover = false;\n        l.filter = false;\n      });\n    }\n\n    setDefaultCrosshairForCartesianChart(spec);\n  }\n\n  protected _getDefaultSeriesSpec(spec: AdaptiveSpec<T, 'type' | 'series' | 'label'>): any {\n    return {\n      ...super._getDefaultSeriesSpec(spec),\n      bar: spec.bar,\n      stackLabel: spec.stackLabel,\n      leaderLine: spec.leaderLine,\n      total: spec.total\n    };\n  }\n}\n"]}
import { THEME_MODE_ATTRIBUTE } from "./common/constants";

export * from "@visactor/vchart-theme-utils";

export const getCurrentMode = () => document.body.hasAttribute(THEME_MODE_ATTRIBUTE) && "dark" === document.body.getAttribute(THEME_MODE_ATTRIBUTE) ? "dark" : "light";

export const generateThemeName = mode => `semiDesign${mode[0].toUpperCase()}${mode.slice(1)}`;

export const observeThemeSwitch = callback => {
    new MutationObserver((mutations => {
        mutations.forEach((mutation => {
            var _a;
            if (1 === mutation.addedNodes.length) {
                const node = mutation.addedNodes[0];
                "LINK" === node.tagName && "true" === (null === (_a = node.getAttribute) || void 0 === _a ? void 0 : _a.call(node, "semi-theme-switcher")) && callback(mutation, node);
            }
        }));
    })).observe(document.body, {
        childList: !0
    });
};
//# sourceMappingURL=util.js.map